{"ast":null,"code":"import _defineProperty from\"D:/\\u0443\\u0447\\u0435\\u0431\\u0430/\\u0418\\u0413\\u042D\\u0423/3 \\u043A\\u0443\\u0440\\u0441/\\u0421\\u0430\\u0434\\u0438\\u043A\\u043E\\u0432 \\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u0430\\u044F/hahaclient/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"D:/\\u0443\\u0447\\u0435\\u0431\\u0430/\\u0418\\u0413\\u042D\\u0423/3 \\u043A\\u0443\\u0440\\u0441/\\u0421\\u0430\\u0434\\u0438\\u043A\\u043E\\u0432 \\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u0430\\u044F/hahaclient/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/\\u0443\\u0447\\u0435\\u0431\\u0430/\\u0418\\u0413\\u042D\\u0423/3 \\u043A\\u0443\\u0440\\u0441/\\u0421\\u0430\\u0434\\u0438\\u043A\\u043E\\u0432 \\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u0430\\u044F/hahaclient/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"D:/\\u0443\\u0447\\u0435\\u0431\\u0430/\\u0418\\u0413\\u042D\\u0423/3 \\u043A\\u0443\\u0440\\u0441/\\u0421\\u0430\\u0434\\u0438\\u043A\\u043E\\u0432 \\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u0430\\u044F/hahaclient/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/\\u0443\\u0447\\u0435\\u0431\\u0430/\\u0418\\u0413\\u042D\\u0423/3 \\u043A\\u0443\\u0440\\u0441/\\u0421\\u0430\\u0434\\u0438\\u043A\\u043E\\u0432 \\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u0430\\u044F/hahaclient/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{BrowserRouter,Route,Routes}from\"react-router-dom\";import ReactDOM from\"react-dom/client\";import Index from\"./index.css\";import Construction from'./Components/Construction/Construction';import ConstructionCreate from'./Components/ConstructionCreate/ConstructionCreate';import Layout from\"./Components/Layout/Layout\";import LogIn from\"./Components/LogIn/LogIn\";import LogOff from\"./Components/LogOff/LogOff\";import Register from\"./Components/Register/Register\";import ModelRanges from'./Components/ModelRange/ModelRanges';import AutoModel from\"./Components/AutoModel/AutoModel\";import LandingPage from\"./Components/LandingPage/LandingPage\";import Acces from\"./Components/Accesouries/Accesouries\";import ModelRange from\"./Components/ModelRange/ModelRange\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _ref3;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),constrs=_useState2[0],setConstrs=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),ranges=_useState4[0],setRanges=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),accesouries=_useState6[0],setAcces=_useState6[1];var addConstruction=function addConstruction(constr){return setConstrs([].concat(_toConsumableArray(constrs),[constr]));};var removeConstrustion=function removeConstrustion(removeId){return setConstrs(constrs.filter(function(_ref){var id=_ref.id;return id!==removeId;}));};var _useState7=useState({isAuthenticated:false,userName:\"\",userRole:\"\"}),_useState8=_slicedToArray(_useState7,2),user=_useState8[0],setUser=_useState8[1];useEffect(function(){var getUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"api/account/isauthenticated\").then(function(response){response.status===401&&setUser({isAuthenticated:false,userName:\"\",userRole:\"\"});return response.json();}).then(function(data){if(typeof data!==\"undefined\"&&typeof data.userName!==\"undefined\"){setUser({isAuthenticated:true,userName:data.userName,userRole:data.userRole});}},function(error){console.log(error);});case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}},_callee);}));return function getUser(){return _ref2.apply(this,arguments);};}();getUser();},[setUser]);return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Layout,{user:user}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(LandingPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/ModelRanges/\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{style:(_ref3={textAlign:'center',color:'white',fontWeight:'bold',fontSize:'20px',marginTop:'10px'},_defineProperty(_ref3,\"color\",'var(--blue)'),_defineProperty(_ref3,\"display\",'block'),_ref3),children:\"Model Ranges: \"}),/*#__PURE__*/_jsx(ModelRanges,{user:user,ranges:ranges,setRanges:setRanges,style:{color:'white'}})]})}),/*#__PURE__*/_jsx(Route,{path:\"/ModelRanges/:id\",element:/*#__PURE__*/_jsx(ModelRange,{})}),/*#__PURE__*/_jsx(Route,{path:\"/AutoModels/:id\",element:/*#__PURE__*/_jsx(AutoModel,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/Construction\",element:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(ConstructionCreate,{user:user,addConstruction:addConstruction})})}),/*#__PURE__*/_jsx(Route,{path:\"/Accesouries\",element:/*#__PURE__*/_jsx(Acces,{user:user,accesouries:accesouries,setAcces:setAcces,style:{color:'--blue'}})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LogIn,{user:user,setUser:setUser})}),/*#__PURE__*/_jsx(Route,{path:\"/logoff\",element:/*#__PURE__*/_jsx(LogOff,{setUser:setUser})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{setUser:setUser})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(\"h3\",{children:\"404\"})})]})})});};var root=ReactDOM.createRoot(document.getElementById(\"root\"));root.render(/*#__PURE__*/ // <React.StrictMode>\n_jsx(App,{})// </React.StrictMode>\n);","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Route","Routes","ReactDOM","Index","Construction","ConstructionCreate","Layout","LogIn","LogOff","Register","ModelRanges","AutoModel","LandingPage","Acces","ModelRange","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","_ref3","_useState","_useState2","_slicedToArray","constrs","setConstrs","_useState3","_useState4","ranges","setRanges","_useState5","_useState6","accesouries","setAcces","addConstruction","constr","concat","_toConsumableArray","removeConstrustion","removeId","filter","_ref","id","_useState7","isAuthenticated","userName","userRole","_useState8","user","setUser","getUser","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetch","then","response","status","json","data","error","console","log","abrupt","sent","stop","apply","arguments","children","path","element","index","style","textAlign","color","fontWeight","fontSize","marginTop","_defineProperty","root","createRoot","document","getElementById","render"],"sources":["D:/учеба/ИГЭУ/3 курс/Садиков Курсовая/hahaclient/src/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport ReactDOM from \"react-dom/client\"\nimport Index from \"./index.css\"\nimport Construction from './Components/Construction/Construction'\nimport ConstructionCreate from './Components/ConstructionCreate/ConstructionCreate'\nimport Layout from \"./Components/Layout/Layout\"\nimport LogIn from \"./Components/LogIn/LogIn\"\nimport LogOff from \"./Components/LogOff/LogOff\"\nimport Register from \"./Components/Register/Register\";\nimport ModelRanges from './Components/ModelRange/ModelRanges'\nimport AutoModel from \"./Components/AutoModel/AutoModel\";\nimport LandingPage from \"./Components/LandingPage/LandingPage\"\nimport Acces from \"./Components/Accesouries/Accesouries\";\nimport ModelRange from \"./Components/ModelRange/ModelRange\"\n\nconst App = () => {\n    const [constrs, setConstrs] = useState([])\n    const [ranges, setRanges] = useState([])\n    const [accesouries, setAcces] = useState([])\n    const addConstruction = (constr) => setConstrs([...constrs, constr])\n    const removeConstrustion = (removeId) => setConstrs(constrs.filter(({ id }) => id\n        !== removeId));\n        const [user, setUser] = useState({ isAuthenticated: false, userName: \"\",userRole: \"\" })\n\n        useEffect(() => {\n          const getUser = async () => {\n            return await fetch(\"api/account/isauthenticated\")\n              .then((response) => {\n                response.status === 401 &&\n                  setUser({ isAuthenticated: false, userName: \"\", userRole: \"\" })\n                return response.json()\n              })\n              .then(\n                (data) => {\n                  if (\n                    typeof data !== \"undefined\" &&\n                    typeof data.userName !== \"undefined\"\n                  ) {\n                    setUser({ isAuthenticated: true, userName: data.userName, userRole: data.userRole})\n                  }\n                },\n                (error) => {\n                  console.log(error)\n                }\n              )\n          }\n          getUser()\n        }, [setUser])\n        return (\n            <BrowserRouter>\n              <Routes>\n                <Route path=\"/\" element={<Layout user={user} />}>\n                  <Route index element={\n                    <div>\n                      <LandingPage></LandingPage>\n                    </div>\n                  } />\n                  <Route\n                    path=\"/ModelRanges/\"\n                    element={\n                      <>\n                      {\n                      \n                      <label style={{textAlign: 'center',color:'white', fontWeight: 'bold', fontSize: '20px', marginTop: '10px', color: 'var(--blue)', display: 'block' }}>Model Ranges: </label>\n                        \n                     }\n                     <ModelRanges \n                     user={user}\n                     ranges={ranges}\n                     setRanges={setRanges} \n                     style={{color:'white'}}/>\n                      </>\n                    }\n                  />\n                  \n                  <Route\n                    path=\"/ModelRanges/:id\"\n                    element={<ModelRange></ModelRange>}\n                  />\n                  {/* <Route\n                    path=\"/AutoModels/:id\"\n                    element={<AutoModel>\n                      <ConstructionCreate user={user} addConstruction={addConstruction} />\n                        <Construction\n                          user={user}\n                          constrs={constrs}\n                          setConstrs={setConstrs}\n                          removeConstruction={removeConstrustion}\n                        />\n                    </AutoModel>}\n                    \n                  /> */}\n                    <Route\n                    path=\"/AutoModels/:id\"\n                    element={\n                      <AutoModel user={user}>\n                      </AutoModel>\n                    }\n                  />\n                   <Route\n                    path=\"/Construction\"\n                    element={\n                      <>\n                        <ConstructionCreate user={user} addConstruction={addConstruction} />\n                        {/* <Construction\n                          user={user}\n                          constrs={constrs}\n                          setConstrs={setConstrs}\n                          removeConstruction={removeConstrustion}\n                        /> */}\n                      </>\n                    }\n                  />\n              \n                        <Route\n                        path=\"/Accesouries\"\n                        element={ \n                       \n                      <Acces\n                       user={user}\n                       accesouries={accesouries}\n                       setAcces={setAcces}\n                       style={{color:'--blue'}}/>\n                        \n                        }\n                         />\n                  <Route\n                    path=\"/login\"\n                    element={<LogIn user={user} setUser={setUser} />}\n                  />\n                  <Route path=\"/logoff\" element={<LogOff setUser={setUser} />} />\n                  <Route path=\"/register\" element={<Register setUser={setUser} />} />\n                  <Route path=\"*\" element={<h3>404</h3>} />\n                </Route>\n              </Routes>\n            </BrowserRouter>\n          )\n        }\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"))\nroot.render(\n    // <React.StrictMode>\n    <App />\n    // </React.StrictMode>\n)"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}