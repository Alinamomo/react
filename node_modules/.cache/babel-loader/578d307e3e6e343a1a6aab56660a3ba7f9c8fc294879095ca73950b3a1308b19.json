{"ast":null,"code":"import _regeneratorRuntime from\"D:/\\u0443\\u0447\\u0435\\u0431\\u0430/\\u0418\\u0413\\u042D\\u0423/3 \\u043A\\u0443\\u0440\\u0441/\\u0421\\u0430\\u0434\\u0438\\u043A\\u043E\\u0432 \\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u0430\\u044F/hahaclient/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/\\u0443\\u0447\\u0435\\u0431\\u0430/\\u0418\\u0413\\u042D\\u0423/3 \\u043A\\u0443\\u0440\\u0441/\\u0421\\u0430\\u0434\\u0438\\u043A\\u043E\\u0432 \\u041A\\u0443\\u0440\\u0441\\u043E\\u0432\\u0430\\u044F/hahaclient/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";import{useNavigate}from\"react-router-dom\";import{Button,Form,Input,DatePicker}from\"antd\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(_ref){var setUser=_ref.setUser;var navigate=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(formValues){var newUser,createUser;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:newUser={email:formValues.login,password:formValues.password,passwordConfirm:formValues.passwordConfirm,fullname:formValues.fullname,date:formValues.date,experience:formValues.experience};createUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var requestOptions,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(newUser);requestOptions={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(newUser)};_context.next=4;return fetch(\"/api/Account/Register\",requestOptions);case 4:response=_context.sent;_context.next=7;return response.json().then(function(data){console.log(data);if(response.ok){setUser({IsAuthenticated:true,userName:newUser.email,userRole:\"user\"});navigate(\"/Account\");}},function(error){return console.log(error);});case 7:return _context.abrupt(\"return\",_context.sent);case 8:case\"end\":return _context.stop();}},_callee);}));return function createUser(){return _ref3.apply(this,arguments);};}();createUser();case 3:case\"end\":return _context2.stop();}},_callee2);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"PageHeader FancyText\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"FormWrapper\",children:/*#__PURE__*/_jsxs(Form,{className:\"FormClass\",onFinish:handleSubmit,name:\"basic\",initialValues:{remember:true},autoComplete:\"off\",children:[/*#__PURE__*/_jsx(Form.Item,{style:{marginTop:\"40px\"},className:\"FormItemClass FancyText\",label:\"UserName\",name:\"login\",rules:[{required:true,message:\"Введите имя пользователя\"}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{className:\"FormItemClass FancyText\",label:\"FullName\",name:\"fullname\",rules:[{required:true,message:\"Введите имя\"}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{className:\"FormItemClass FancyText\",label:\"BirthDate\",name:\"date\",rules:[{required:true,message:\"Введите дату рождения\"}],children:/*#__PURE__*/_jsx(DatePicker,{})}),/*#__PURE__*/_jsx(Form.Item,{className:\"FormItemClass FancyText\",label:\"Experience\",name:\"experience\",rules:[{required:true,message:\"Введите имя\"}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{className:\"FormItemClass FancyText\",label:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",name:\"password\",rules:[{required:true,message:\"Введите пароль\"}],children:/*#__PURE__*/_jsx(Input.Password,{})}),/*#__PURE__*/_jsx(Form.Item,{className:\"FormItemClass FancyText\",label:\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",name:\"passwordConfirm\",rules:[{required:true,message:\"Введите пароль\"}],children:/*#__PURE__*/_jsx(Input.Password,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"LowerButtons\",children:[/*#__PURE__*/_jsx(Form.Item,{wrapperCol:{offset:8,span:16},children:/*#__PURE__*/_jsx(Button,{className:\"FormButton\",htmlType:\"submit\",children:\" \\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F \"})}),/*#__PURE__*/_jsx(Button,{className:\"FormButton RegistrationButton\",onClick:function onClick(){return navigate('/Login');},children:\" \\u0412\\u043E\\u0439\\u0442\\u0438 \"})]})]})})]});};export default Register;","map":{"version":3,"names":["React","useNavigate","Button","Form","Input","DatePicker","jsx","_jsx","jsxs","_jsxs","Register","_ref","setUser","navigate","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","formValues","newUser","createUser","wrap","_callee2$","_context2","prev","next","email","login","password","passwordConfirm","fullname","date","experience","_ref3","_callee","requestOptions","response","_callee$","_context","console","log","method","headers","body","JSON","stringify","fetch","sent","json","then","data","ok","IsAuthenticated","userName","userRole","error","abrupt","stop","apply","arguments","_x","Fragment","children","className","onFinish","name","initialValues","remember","autoComplete","Item","style","marginTop","label","rules","required","message","Password","wrapperCol","offset","span","htmlType","onClick"],"sources":["D:/учеба/ИГЭУ/3 курс/Садиков Курсовая/hahaclient/src/Components/Register/Register.js"],"sourcesContent":["import React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Button, Form, Input, DatePicker} from \"antd\"\r\n\r\nconst Register = ({ setUser }) => {\r\n\r\n  const navigate = useNavigate();\r\n  const handleSubmit = async (formValues) => {\r\n\r\n\r\n    const newUser = {\r\n      email: formValues.login,\r\n      password: formValues.password,\r\n      passwordConfirm: formValues.passwordConfirm,\r\n      fullname: formValues.fullname,\r\n      date: formValues.date,\r\n      experience: formValues.experience\r\n    };\r\n\r\n    const createUser = async () => {\r\n      console.log(newUser);\r\n      const requestOptions = {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(newUser),\r\n      };\r\n\r\n      const response = await fetch(\"/api/Account/Register\", requestOptions);\r\n      return await response.json().then(\r\n        (data) => {\r\n          console.log(data);\r\n\r\n          if (response.ok) {\r\n            setUser({ IsAuthenticated: true, userName: newUser.email, userRole: \"user\"});\r\n            navigate(\"/Account\");\r\n          }\r\n          \r\n        },\r\n        (error) => console.log(error)\r\n      );\r\n    };\r\n    createUser();\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n\r\n      <div className=\"PageHeader FancyText\">\r\n              Регистрация\r\n      </div>\r\n        <div className=\"FormWrapper\">\r\n            <Form\r\n              className=\"FormClass\"\r\n              onFinish={handleSubmit}\r\n              name=\"basic\"     \r\n              initialValues={{remember: true}}\r\n              autoComplete=\"off\">\r\n                <Form.Item style={{marginTop:\"40px\"}}\r\n                  className=\"FormItemClass FancyText\"\r\n                  label=\"UserName\"\r\n                  name=\"login\"\r\n                  rules={[{required: true, message: \"Введите имя пользователя\"}]}>\r\n                  <Input/>\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                  className=\"FormItemClass FancyText\"\r\n                  label=\"FullName\"\r\n                  name=\"fullname\"\r\n                  rules={[{required: true, message: \"Введите имя\"}]}>\r\n                  <Input/>\r\n                </Form.Item>\r\n\r\n            \r\n\r\n                <Form.Item\r\n                  className=\"FormItemClass FancyText\"\r\n                  label=\"BirthDate\"\r\n                  name=\"date\"\r\n                  rules={[{required: true, message: \"Введите дату рождения\"}]}>\r\n                     <DatePicker/>\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                  className=\"FormItemClass FancyText\"\r\n                  label=\"Experience\"\r\n                  name=\"experience\"\r\n                  rules={[{required: true, message: \"Введите имя\"}]}>\r\n                  <Input/>\r\n                </Form.Item>\r\n\r\n              \r\n\r\n                <Form.Item\r\n                  className=\"FormItemClass FancyText\"\r\n                  label=\"Пароль\"\r\n                  name=\"password\"\r\n                  rules={[{required: true, message: \"Введите пароль\"}]}>\r\n                  <Input.Password/>\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                  className=\"FormItemClass FancyText\"\r\n                  label=\"Подтвердите пароль\"\r\n                  name=\"passwordConfirm\"\r\n                  rules={[{required: true, message: \"Введите пароль\"}]}>\r\n                  <Input.Password/>\r\n                </Form.Item>\r\n\r\n                <div className=\"LowerButtons\">\r\n                <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\r\n                  <Button className=\"FormButton\" htmlType=\"submit\"> Зарегистрироваться </Button>\r\n                </Form.Item>\r\n                <Button className=\"FormButton RegistrationButton\" onClick={() => navigate('/Login')}> Войти </Button>\r\n              </div>\r\n            </Form>\r\n\r\n          </div>\r\n    </React.Fragment>\r\n\r\n    \r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}